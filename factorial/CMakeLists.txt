cmake_minimum_required(VERSION 2.8)

project(factorial)
set (CMAKE_CXX_STANDARD 11)
# set(CMAKE_CXX_STANDARD_REQUIRED ON) #...is required...
# set(CMAKE_CXX_EXTENSIONS OFF)

set(ENTRY_POINT "main.cpp")
set(HEADERS "factorial.cpp")
set(SOURCES "factorial.hpp")

set( CMAKE_INCLUDE_CURRENT_DIR ON )
# set library name
set(PROJECT_LIB ${PROJECT_NAME}_library)

#add_library(${PROJECT_NAME} STATIC ${HEADERS} ${SOURCES})

# Generate binary containing all sources
# add_executable(${PROJECT_NAME} ${HEADERS} ${SOURCES} ${ENTRY_POINT})

# Generate binary linked with dinamic library generated by add_library
add_library(${PROJECT_LIB} ${HEADERS} ${SOURCES})
add_executable(${PROJECT_NAME} ${ENTRY_POINT})
target_link_libraries (${PROJECT_NAME} ${PROJECT_LIB})

# enable ctest tool
enable_testing()
add_subdirectory(test)
